(this["webpackJsonpecommerce-front"]=this["webpackJsonpecommerce-front"]||[]).push([[0],{35:function(e,t,c){},41:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(4),r=c(20),i=c.n(r),o=c(6),l=c(5),j=c(2),d=c(3),b="http://localhost:8000/api",h=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(j.a)(Object(j.a)({},e),{},{count:1})),c=Array.from(new Set(c.map((function(e){return e._id})))).map((function(e){return c.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(c)),t())},m=function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(s,a){s._id===e&&(c[a].count=t)})),localStorage.setItem("cart",JSON.stringify(c)))},O=function(e){var t=[];return"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,s){c._id===e&&t.splice(s,1)})),localStorage.setItem("cart",JSON.stringify(t))),t},x=(c(35),c(0)),p=function(e,t){return e.location.pathname===t?{color:"#f18b04"}:{color:"#252525"}};var f=Object(o.g)((function(e){var t=e.history,c=Object(s.useState)(!1),a=Object(d.a)(c,2),r=a[0],i=a[1];return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"Home",children:[Object(x.jsx)("div",{class:"humberger__menu__overlay"}),Object(x.jsxs)("header",{class:"header",children:[Object(x.jsx)("div",{class:"header__top",children:Object(x.jsx)("div",{class:"container",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-6 col-md-6",children:Object(x.jsx)("div",{class:"header__top__left",children:Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("i",{class:"fa fa-envelope"}),Object(x.jsx)("a",{href:"https://mail.google.com/mail/u/0/#inbox",class:"__cf_email__","data-cfemail":"dbb3beb7b7b49bb8b4b7b4a9b7b2b9f5b8b4b6",children:"salmanlobby3@gmail.com "})]}),Object(x.jsx)("li",{children:"providing quility is our one and only approach"})]})})}),Object(x.jsx)("div",{class:"col-lg-6 col-md-6",children:Object(x.jsxs)("div",{class:"header__top__right",children:[Object(x.jsxs)("div",{class:"header__top__right__social",children:[Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-facebook"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-twitter"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-linkedin"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-pinterest-p"})})]}),Object(x.jsxs)("div",{class:"header__top__right__language",children:[Object(x.jsx)("img",{src:"img/language.png",alt:""}),Object(x.jsx)("div",{children:"English"})]}),!h()&&Object(x.jsxs)(s.Fragment,{children:[Object(x.jsx)("div",{class:"header__top__right__auth",children:Object(x.jsx)(n.b,{to:"/signin",style:p(t,"/signin"),children:"Login"})}),Object(x.jsx)("span",{style:{margin:"5px"},children:Object(x.jsx)("i",{class:"fa fa-user"})}),Object(x.jsx)("div",{class:"header__top__right__auth",children:Object(x.jsx)(n.b,{to:"/signup",style:p(t,"/signup"),children:"SignUp"})})]}),h()&&Object(x.jsxs)("div",{class:"header__top__right__auth",children:[Object(x.jsx)("span",{style:{margin:"5px"},children:Object(x.jsx)("i",{class:"fa fa-user"})}),Object(x.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(b,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))},children:"Logout"})]})]})})]})})}),Object(x.jsxs)("div",{class:"container",children:[Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-3",children:Object(x.jsx)("div",{class:"header__logo",children:Object(x.jsx)(n.b,{to:"/",children:Object(x.jsx)("img",{src:"img/logo3.svg",alt:"",style:{height:"60px",width:"200px"}})})})}),Object(x.jsx)("div",{class:"col-lg-6",children:Object(x.jsx)("nav",{className:"navbar",children:Object(x.jsx)("div",{className:"nav-container",children:Object(x.jsxs)("ul",{className:r?"nav-menu active":"nav-menu",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(n.b,{exact:!0,to:"/",className:"nav-links",style:p(t,"/"),children:" Home "})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(n.b,{exact:!0,to:"/shop",activeClassName:"active",className:"nav-links",style:p(t,"/shop"),children:"Shop"})}),h()&&0===h().user.role&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(n.b,{exact:!0,to:"/user/dashboard",activeClassName:"active",className:"nav-links",style:p(t,"/user/dashboard"),children:"Dashboard"})}),h()&&1===h().user.role&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(n.b,{exact:!0,to:"/admin/dashboard",activeClassName:"active",className:"nav-links",style:p(t,"/admin/dashboard"),children:"Dashboard"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(n.b,{exact:!0,to:"/contact",activeClassName:"active",className:"nav-links",style:p(t,"/contact"),children:" Contact "})})]})})})}),Object(x.jsx)("div",{class:"col-lg-3",children:Object(x.jsx)("div",{class:"header__cart",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)(n.b,{to:"#",children:[Object(x.jsx)("i",{class:"fa fa-heart"}),Object(x.jsx)("span",{children:"0"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)(n.b,{to:"/cart",className:"nav-link",style:p(t,"/cart"),children:[Object(x.jsx)("i",{class:"fa fa-shopping-bag"})," ",Object(x.jsx)("sup",{children:Object(x.jsx)("small",{className:"cart-badge",children:"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0})})]})})]})})})]}),Object(x.jsx)("div",{class:"humberger__open",onClick:function(){i(!r)},children:Object(x.jsx)("i",{className:r?"fa fa-times":"fa fa-bars"})})]})]})]})})})),g=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("footer",{class:"footer spad",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(x.jsxs)("div",{class:"footer__about",children:[Object(x.jsx)("div",{class:"footer__about__logo",children:Object(x.jsx)(n.b,{to:"/",children:Object(x.jsx)("img",{src:"img/logo3.svg",alt:"",style:{height:"60px",width:"200px"}})})}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Address: 81, Commercial Umar Block, Sector B, Bahria Town Lahore."}),Object(x.jsx)("li",{children:"Phone: +92301 7111141"}),Object(x.jsxs)("li",{children:["Email:",Object(x.jsx)("a",{href:"https://mail.google.com/mail/u/0/#inbox",class:"__cf_email__","data-cfemail":"dbb3beb7b7b49bb8b4b7b4a9b7b2b9f5b8b4b6",children:"salmanlobby3@gmail.com "})]})]})]})}),Object(x.jsx)("div",{class:"col-lg-4 col-md-6 col-sm-6 offset-lg-1",children:Object(x.jsxs)("div",{class:"footer__widget",children:[Object(x.jsx)("h6",{children:"Useful Links"}),Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:Object(x.jsx)(n.b,{to:"/shop",children:"About Our Shop"})})}),Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:Object(x.jsx)(n.b,{to:"/contact",children:"Contact"})})})]})}),Object(x.jsx)("div",{class:"col-lg-4 col-md-12",children:Object(x.jsxs)("div",{class:"footer__widget",children:[Object(x.jsx)("h6",{children:"Join Our Newsletter Now"}),Object(x.jsx)("p",{children:"Get E-mail updates about our latest shop and special offers."}),Object(x.jsxs)("form",{action:"#",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter your mail"}),Object(x.jsx)("button",{type:"submit",class:"site-btn",children:"Subscribe"})]}),Object(x.jsxs)("div",{class:"footer__widget__social",children:[Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-facebook"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-instagram"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-twitter"})}),Object(x.jsx)(n.b,{to:"#",children:Object(x.jsx)("i",{class:"fa fa-pinterest"})})]})]})})]}),Object(x.jsx)("div",{class:"row",children:Object(x.jsx)("div",{class:"col-lg-12",children:Object(x.jsxs)("div",{class:"footer__copyright",children:[Object(x.jsx)("div",{class:"footer__copyright__text",children:Object(x.jsxs)("p",{children:["Copyright \xa9 All rights reserved | This website is made with",Object(x.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," by",Object(x.jsx)(n.b,{to:"#",target:"_blank",children:"TechnoCannons"})]})}),Object(x.jsx)("div",{class:"footer__copyright__payment",children:Object(x.jsx)("img",{src:"img/payment-item.png",alt:""})})]})})})]})})})},v=(c(41),function(e){var t=e.className,c=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{}),Object(x.jsx)("div",{className:t,children:c}),Object(x.jsx)(g,{})]})}),N=function(){var e=Object(s.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1],r=c.name,i=c.email,o=c.password,h=c.success,u=c.error,m=function(e){return function(t){a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},O=function(e){var t;e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:!1})),(t={name:r,email:i,password:o},fetch("".concat(b,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):a(Object(j.a)(Object(j.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return Object(x.jsxs)(v,{title:"Signup",description:"Signup to Node React E-commerce App",className:"container col-md-8 offset-md-2",children:[Object(x.jsxs)("div",{className:"alert alert-info",style:{display:h?"":"none"},children:["New account is created. Please ",Object(x.jsx)(n.b,{to:"/signin",children:"Signin"})]}),Object(x.jsx)("div",{className:"alert alert-danger",style:{display:u?"":"none"},children:u}),Object(x.jsx)("div",{classNameName:"container",children:Object(x.jsxs)("center",{children:[Object(x.jsx)("div",{classNameName:"row",children:Object(x.jsx)("div",{className:"col-md-4 my-4 p-5 rounded",style:{background:"#eee"},children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"m-0",children:" Registration "}),Object(x.jsx)("hr",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"float-left",for:"name",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter Full Name",value:r,onChange:m("name")})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"float-left",for:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter Your Email",value:i,onChange:m("email")}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text text-muted float-left",children:"We'll never share your email with anyone else."})," ",Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"float-left",for:"exampleInputPassword1",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Your Password",value:o,onChange:m("password")})]}),Object(x.jsxs)("p",{className:"",children:["Already have an Account? ",Object(x.jsx)(n.b,{to:"/signin",className:"text-primary",children:" Login here"})]}),Object(x.jsx)("button",{onClick:O,className:"btn btn-primary rounded-0",style:{background:"#7fad39",fontWeight:"bolder",border:"none"},children:"Submit"})]})})}),Object(x.jsx)("br",{})]})})]})},_=function(){var e=Object(s.useState)({email:"",password:"",error:"",loading:!1,redirectToRefferer:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1],r=c.email,i=c.password,u=c.loading,m=c.error,O=c.redirectToRefferer,p=h().user,f=function(e){return function(t){a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},g=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:!1,loading:!0})),function(e){return fetch("".concat(b,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:r,password:i}).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){a(Object(j.a)(Object(j.a)({},c),{},{redirectToRefferer:!0}))}))}))};return Object(x.jsxs)(v,{children:[u&&Object(x.jsx)("div",{className:"alert alert-info",children:Object(x.jsx)("h2",{children:"Loading ..."})}),Object(x.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),Object(x.jsxs)("center",{children:[Object(x.jsx)("div",{classNameName:"container",children:Object(x.jsx)("div",{classNameName:"row",children:Object(x.jsx)("div",{className:"col-md-4 my-4 p-4 rounded",style:{background:"#eee"},children:Object(x.jsxs)("form",{className:"mr-auto",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:" Log In "})," ",Object(x.jsx)("hr",{})," "]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"float-left",children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:f("email"),placeholder:"Enter email",value:r}),Object(x.jsx)("small",{className:"form-text text-muted pull-left",children:"We'll never share your email with anyone else."})," ",Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"float-left",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",onChange:f("password"),value:i})]}),Object(x.jsxs)("p",{className:"py-1",children:["Need An Account? ",Object(x.jsx)(n.b,{to:"/signup",className:"text-primary",children:" Register here "})]}),Object(x.jsx)("button",{onClick:g,className:"btn btn-primary rounded-0",style:{background:"#7fad39",fontWeight:"bolder",border:"none"},children:" Submit "})]})})})})," ",Object(x.jsx)("br",{})]}),O?p&&1===p.role?Object(x.jsx)(o.a,{to:"/admin/dashboard"}):Object(x.jsx)(o.a,{to:"/user/dashboard"}):h()?Object(x.jsx)(o.a,{to:"/"}):void 0]})},y=c(8),w=c(28),S=c.n(w),C=function(e){return fetch("".concat(b,"/products?sortBy=").concat(e,"&order=desc&limit=6"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},P=function(){return fetch("".concat(b,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},k=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={limit:t,skip:e,filters:c};return fetch("".concat(b,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},T=function(e){var t=S.a.stringify(e);return console.log("query",t),fetch("".concat(b,"/products/search?").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},A=[{_id:0,name:"Any",array:[]},{_id:1,name:"Rs 0 to Rs 9",array:[0,9]},{_id:2,name:"Rs10 to Rs19",array:[10,19]},{_id:3,name:"Rs20 to Rs29",array:[20,29]},{_id:4,name:"Rs30 to Rs39",array:[20,29]},{_id:5,name:"More than Rs40",array:[40,99]}],E=function(e){var t=e.item,c=e.url;return Object(x.jsx)("div",{className:"product-img",children:Object(x.jsx)("img",{src:"".concat(b,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"mb-3",style:{maxHeight:"100%",maxWidth:"100%"}})})},I=c(14),R=c.n(I),D=function(e){var t,c=e.product,a=e.showViewProductButton,r=void 0===a||a,i=e.showAddToCartButton,l=void 0===i||i,j=e.cartUpdate,b=void 0!==j&&j,h=e.showRemoveProductButton,p=void 0!==h&&h,f=e.setRun,g=void 0===f?function(e){return e}:f,v=e.run,N=void 0===v?void 0:v,_=Object(s.useState)(!1),y=Object(d.a)(_,2),w=y[0],S=y[1],C=Object(s.useState)(c.count),P=Object(d.a)(C,2),k=P[0],T=P[1],A=function(){u(c,S(!0))};return Object(x.jsxs)("div",{class:"featured__item",children:[Object(x.jsxs)("div",{class:"featured__item__pic set-bg","data-setbg":"",children:[function(e){if(e)return Object(x.jsx)(o.a,{to:"/cart"})}(w),Object(x.jsx)(E,{item:c,url:"product"}),Object(x.jsxs)("ul",{class:"featured__item__pic__hover",children:[Object(x.jsx)("li",{children:Object(x.jsx)("a",{children:Object(x.jsx)("i",{class:"fa fa-heart"})})}),function(e){return e&&Object(x.jsx)(n.b,{to:"/product/".concat(c._id),className:"mr-2",children:Object(x.jsx)("li",{children:Object(x.jsx)("a",{children:Object(x.jsx)("i",{class:"fa fa-image",style:{color:"black"}})})})})}(r),function(e){return e&&Object(x.jsx)("li",{onClick:A,children:Object(x.jsx)("a",{children:Object(x.jsx)("i",{class:"fa fa-shopping-cart"})})})}(l),function(e){return e&&Object(x.jsx)("li",{children:Object(x.jsx)("a",{onClick:function(){O(c._id),g(!N)},children:Object(x.jsx)("i",{class:"fa fa-remove",style:{color:"black"}})})})}(p),function(e){return e&&Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("span",{className:"input-group-text",children:"Adjust Quantity"})}),Object(x.jsx)("input",{type:"number",className:"form-control",value:k,onChange:(t=c._id,function(e){g(!N),T(e.target.value<1?1:e.target.value),e.target.value>=1&&m(t,e.target.value)})})]})});var t}(b)]})]}),Object(x.jsx)("span",{children:(t=c.quantity,t>0?Object(x.jsx)("span",{className:"badge badge-primary badge-pill",children:" In Stock "}):Object(x.jsx)("span",{className:"badge badge-primary badge-pill",children:" Out of Stock "}))}),Object(x.jsx)("span",{children:Object(x.jsxs)("div",{class:"featured__item__text",children:[Object(x.jsx)("h6",{children:Object(x.jsx)("a",{children:c.name})}),Object(x.jsxs)("h5",{children:["Rs ",c.price]})]})})]})},B=c(29),U=c.n(B);var z=function(){var e=Object(s.useState)([{img:"/img/categories/cat-1.jpg"},{img:"/img/categories/cat-2.jpg"},{img:"/img/categories/cat-3.jpg"},{img:"/img/categories/cat-4.jpg"},{img:"/img/categories/cat-5.jpg"},{img:"/img/categories/cat-6.jpg"},{img:"/img/categories/cat-7.jpg"},{img:"/img/categories/cat-8.jpg"}]),t=Object(d.a)(e,2),c=t[0];return t[1],c.img1,c.img2,c.img3,c.img4,c.img5,c.img6,c.img7,c.img8,Object(x.jsxs)(U.a,{breakpoints:[{breakpoint:500,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}],dots:!0,showSides:!0,sidesOpacity:.5,sideSize:.1,slidesToScroll:1,slidesToShow:4,scrollOnDevice:!0,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{alt:"",src:"/img/categories/cat-1.jpg"})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{alt:"",src:"/img/categories/cat-2.jpg"})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{alt:"",src:"/img/categories/cat-3.jpg"})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{alt:"",src:"/img/categories/cat-4.jpg"})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{alt:"",src:"/img/categories/cat-5.jpg"})})]})},J=function(e){return Object(x.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(x.jsx)("div",{className:"banner__pic",children:Object(x.jsx)("img",{src:e.img,alt:""})})})},G=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)([]),i=Object(d.a)(r,2),o=i[0],l=i[1],j=Object(s.useState)(!1),b=Object(d.a)(j,2),h=(b[0],b[1]);return Object(s.useEffect)((function(){C("createdAt").then((function(e){console.log(e),e.error?h(e.error):l(e)})),C("sold").then((function(e){e.error?h(e.error):n(e)}))}),[]),Object(x.jsx)("section",{className:"latest-product spad",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(x.jsxs)("div",{className:"latest-product__text",children:[Object(x.jsx)("h4",{children:"Top Rated Products"}),Object(x.jsx)("div",{className:"latest-product__slider owl-carousel",children:Object(x.jsx)("div",{className:"latest-prdouct__slider__item",children:a.map((function(e,t){return Object(x.jsxs)("a",{href:"#",className:"latest-product__item",children:[Object(x.jsx)("div",{className:"latest-product__item__pic",children:Object(x.jsx)(E,{item:e,url:"product"})}),Object(x.jsxs)("div",{className:"latest-product__item__text",children:[Object(x.jsx)("h6",{children:e.name}),Object(x.jsxs)("span",{children:["Rs ",e.price]})]})]})}))})})]})}),Object(x.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(x.jsxs)("div",{className:"latest-product__text",children:[Object(x.jsx)("h4",{children:"Latest Products"}),Object(x.jsx)("div",{className:"latest-product__slider owl-carousel",children:Object(x.jsx)("div",{className:"latest-prdouct__slider__item",children:o.map((function(e,t){return Object(x.jsxs)("a",{href:"#",className:"latest-product__item",children:[Object(x.jsx)("div",{className:"latest-product__item__pic",children:Object(x.jsx)(E,{item:e,url:"product"})}),Object(x.jsxs)("div",{className:"latest-product__item__text",children:[Object(x.jsx)("h6",{children:e.name}),Object(x.jsxs)("span",{children:["RS ",e.price]})]})]})}))})})]})})]})})})},F=function(e){var t=e.Categories,c=e.handleFilters,a=Object(s.useState)({categories:[],category:"",search:"",results:[],searched:!1}),r=Object(d.a)(a,2),i=r[0],o=r[1],b=Object(s.useState)([]),h=Object(d.a)(b,2),u=h[0],m=h[1],O=i.categories,p=i.category,f=i.search,g=i.results,v=i.searched,N=function(e){return function(){var t=u.indexOf(e),s=Object(y.a)(u);-1===t?s.push(e):s.splice(t,1),m(s),c(s)}};Object(s.useEffect)((function(){P().then((function(e){e.error?console.log(e.error):o(Object(j.a)(Object(j.a)({},e),{},{categories:e}))}))}),[]);var _=function(e){e.preventDefault(),f&&T({search:f||void 0,category:p}).then((function(e){e.error?console.log(e.error):o(Object(j.a)(Object(j.a)({},i),{},{results:e,searched:!0}))}))},w=function(e){return function(t){var c;o(Object(j.a)(Object(j.a)({},i),{},(c={},Object(l.a)(c,e,t.target.value),Object(l.a)(c,"searched",!1),c)))}},S=function(e,t){return e&&t.length>0?"Found ".concat(t.length," products"):e&&t.length<1?"No products found":void 0};return Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"container mb-3",children:Object(x.jsx)("div",{children:Object(x.jsx)("section",{className:"hero",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-3",children:Object(x.jsxs)("div",{className:"hero__categories",children:[Object(x.jsxs)("div",{className:"hero__categories__all",children:[Object(x.jsx)("i",{className:"fa fa-bars"}),Object(x.jsx)("span",{children:"All departments"})]}),Object(x.jsx)("ul",{children:t.map((function(e,t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("input",{onChange:N(e._id),value:u.indexOf(-1===e._id),type:"checkbox",className:"form-check-input"}),Object(x.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))})]})}),Object(x.jsxs)("div",{className:"col-lg-9",children:[Object(x.jsxs)("div",{className:"hero__search",children:[Object(x.jsx)("div",{className:"hero__search__form",children:Object(x.jsxs)("form",{onSubmit:_,children:[Object(x.jsxs)("select",{className:"hero__search__categories",onChange:w("category"),children:[Object(x.jsx)("option",{value:"All",children:"All Categories"}),O.map((function(e,t){return Object(x.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(x.jsx)("input",Object(l.a)({type:"search",placeholder:"What do yo u need?",onChange:w("search")},"placeholder","What do yo u need?")),Object(x.jsx)("button",{type:"submit",className:"site-btn",children:"SEARCH"})]})}),Object(x.jsxs)("div",{className:"hero__search__phone",children:[Object(x.jsx)("div",{className:"hero__search__phone__icon",children:Object(x.jsx)("i",{className:"fa fa-phone"})}),Object(x.jsxs)("div",{className:"hero__search__phone__text",children:[Object(x.jsx)("h5",{children:"+92301 7111141"}),Object(x.jsx)("span",{children:"support 24/7 time"})]})]})]}),Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("img",{src:"img/hero/banner.jpg",className:"veg_img w-100",style:{height:"73vh"},alt:""})}),Object(x.jsxs)("div",{className:"hero__text carousel-caption",style:{position:"absolute",left:"-30%"},children:[Object(x.jsx)("span",{className:"ml-3",children:"FRUIT FRESH"}),Object(x.jsxs)("h2",{className:"ml-3",style:{fontSize:"35px"},children:["Vegetable ",Object(x.jsx)("br",{}),"100% Organic"]}),Object(x.jsx)("p",{className:"ml-4",children:"Free Pickup and Delivery Available"}),Object(x.jsx)(n.b,{to:"/shop",className:"primary-btn",children:"SHOP NOW"})]})]})})]})]})})})})}),Object(x.jsx)("div",{className:"container-fluid mb-3",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"mt-4 mb-4",children:S(v,e)}),Object(x.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(x.jsx)("div",{className:"col-4 mb-3",children:Object(x.jsx)(D,{product:e},t)})}))})]})}(g)})]})},L=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=(t[0],t[1]),a=Object(s.useState)([]),n=Object(d.a)(a,2),r=n[0],i=n[1],o=Object(s.useState)(!1),l=Object(d.a)(o,2),b=(l[0],l[1]),h=Object(s.useState)([{img:"/img/banner/banner-1.jpg"},{img:"/img/banner/banner-2.jpg"}]),u=Object(d.a)(h,2),m=u[0],O=(u[1],Object(s.useState)({filters:{category:[],price:[]}})),p=Object(d.a)(O,2),f=p[0],g=p[1],N=Object(s.useState)([]),_=Object(d.a)(N,2),y=_[0],w=_[1],S=Object(s.useState)(6),T=Object(d.a)(S,2),E=T[0],I=(T[1],Object(s.useState)(0)),R=Object(d.a)(I,2),B=R[0],U=R[1],L=Object(s.useState)(0),q=Object(d.a)(L,2),H=(q[0],q[1]),M=Object(s.useState)([]),Y=Object(d.a)(M,2),W=(Y[0],Y[1]),V=function(e){k(B,E,e).then((function(e){e.error?b(e.error):(W(e.data),H(e.size),U(0))}))};Object(s.useEffect)((function(){P().then((function(e){e.error?(console.log(e.error),b(e.error)):(console.log(e),w(e))})),V(B,f.filters)}),[]);var Q=function(e){var t=A,c=[];for(var s in t)t[s]._id===parseInt(e)&&(c=t[s].array);return c};return Object(s.useEffect)((function(){C("createdAt").then((function(e){console.log(e),e.error?b(e.error):i(e)})),C("sold").then((function(e){e.error?b(e.error):c(e)}))}),[]),Object(x.jsxs)(v,{children:[Object(x.jsx)(F,{Categories:y,handleFilters:function(e){return function(e,t){console.log("SHOP",e,t);var c=Object(j.a)({},f);if(c.filters[t]=e,"price"===t){var s=Q(e);c.filters[t]=s}V(f.filters),g(c)}(e,"category")}}),Object(x.jsx)(z,{}),Object(x.jsx)("section",{className:"featured spad",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-lg-12",children:[Object(x.jsx)("div",{className:"section-title",children:Object(x.jsx)("h2",{children:"Featured Product"})}),Object(x.jsx)("div",{className:"featured__controls",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{className:"active","data-filter":"*",children:"All"}),Object(x.jsx)("li",{"data-filter":".oranges",children:"Oranges"}),Object(x.jsx)("li",{"data-filter":".fresh-meat",children:"Fresh Meat"}),Object(x.jsx)("li",{"data-filter":".vegetables",children:"Vegetables"}),Object(x.jsx)("li",{"data-filter":".fastfood",children:"Fastfood"})]})})]})}),Object(x.jsx)("div",{className:"row featured__filter",children:r.map((function(e,t){return Object(x.jsx)("div",{class:"col-lg-3 col-md-4 col-sm-6",children:Object(x.jsx)(D,{product:e})})}))})]})}),Object(x.jsx)("div",{className:"banner",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:m.map((function(e){return Object(x.jsx)(J,{img:e.img})}))})})}),Object(x.jsx)(G,{})]})},q=c(18),H=function(e){var t=e.component,c=Object(q.a)(e,["component"]);return Object(x.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return h()?Object(x.jsx)(t,Object(j.a)({},e)):Object(x.jsx)(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},M=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=h().user,i=r._id,o=r.name,l=r.email,j=r.role,u=h().token,m=function(e,t){(function(e,t){return fetch("".concat(b,"/orders/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){e.error?console.log(e.error):a(e)}))};Object(s.useEffect)((function(){m(i,u)}),[]);return Object(x.jsx)(v,{title:"Dashboard",description:"G'day ".concat(o,"!"),className:"container-fluid",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-3",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("h4",{className:"card-header",children:"User Links"}),Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/cart",children:"My Cart"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/profile/".concat(i),children:"Update Profile"})})]})]})}),Object(x.jsxs)("div",{className:"col-9",children:[Object(x.jsxs)("div",{className:"card mb-5",children:[Object(x.jsx)("h3",{className:"card-header",children:"User Information"}),Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item",children:o}),Object(x.jsx)("li",{className:"list-group-item",children:l}),Object(x.jsx)("li",{className:"list-group-item",children:1===j?"Admin":"Registered User"})]})]}),function(e){return Object(x.jsxs)("div",{className:"card mb-5",children:[Object(x.jsx)("h3",{className:"card-header",children:"Purchase history"}),Object(x.jsx)("ul",{className:"list-group",children:Object(x.jsx)("li",{className:"list-group-item",children:e.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),e.products.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h6",{children:["Product name: ",e.name]}),Object(x.jsxs)("h6",{children:["Product price: Rs",e.price]}),Object(x.jsxs)("h6",{children:["Purchased date:"," ",R()(e.createdAt).fromNow()]})]},t)}))]})}))})})]})}(c)]})]})})},Y=function(e){var t=e.component,c=Object(q.a)(e,["component"]);return Object(x.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return h()&&1===h().user.role?Object(x.jsx)(t,Object(j.a)({},e)):Object(x.jsx)(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},W=function(){var e=h().user,t=(e._id,e.name),c=e.email,s=e.role;return Object(x.jsx)(v,{title:"Dashboard",description:"G'day ".concat(t,"!"),className:"container-fluid",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-3",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("h4",{className:"card-header",children:"Admin Links"}),Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/create/category",children:"Create Category"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/create/product",children:"Create Product"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/admin/orders",children:"View Orders"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(n.b,{className:"nav-link",to:"/admin/products",children:"Manage Products"})})]})]})}),Object(x.jsx)("div",{className:"col-9",children:Object(x.jsxs)("div",{className:"card mb-5",children:[Object(x.jsx)("h3",{className:"card-header",children:"User Information"}),Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item",children:t}),Object(x.jsx)("li",{className:"list-group-item",children:c}),Object(x.jsx)("li",{className:"list-group-item",children:1===s?"Admin":"Registered User"})]})]})})]})})},V=function(){return fetch("".concat(b,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},Q=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(!1),i=Object(d.a)(r,2),o=i[0],l=i[1],j=Object(s.useState)(!1),u=Object(d.a)(j,2),m=u[0],O=u[1],p=h(),f=p.user,g=p.token,N=function(e){l(""),a(e.target.value)},_=function(e){e.preventDefault(),l(""),O(!1),function(e,t,c){return fetch("".concat(b,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(f._id,g,{name:c}).then((function(e){console.log(e),e.error?l(e.error):(l(""),O(!0))}))};return Object(x.jsx)(v,{title:"Add a new category",description:"G'day ".concat(f.name,", ready to add a new category?"),children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-8 offset-md-2",children:[function(){if(m)return Object(x.jsxs)("h3",{className:"text-success",children:[c," is created"]})}(),function(){if(o)return Object(x.jsx)("h3",{className:"text-danger",children:"Category should be unique"})}(),Object(x.jsxs)("form",{onSubmit:_,children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",onChange:N,value:c,autoFocus:!0,required:!0})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn btn-outline-primary",children:"Create Category"})]}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(n.b,{to:"/admin/dashboard",className:"text-warning",children:"Back to Dashboard"})})]})})})},K=function(){var e=Object(s.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),t=Object(d.a)(e,2),c=t[0],a=t[1],n=h(),r=n.user,i=n.token,o=c.name,u=c.description,m=c.price,O=c.categories,p=(c.category,c.shipping,c.quantity),f=c.loading,g=c.error,N=c.createdProduct,_=(c.redirectToProfile,c.formData);Object(s.useEffect)((function(){V().then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):a(Object(j.a)(Object(j.a)({},c),{},{categories:e,formData:new FormData}))}))}),[]);var y=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:"",loading:!0})),function(e,t,c){return fetch("".concat(b,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(r._id,i,_).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):a(Object(j.a)(Object(j.a)({},c),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name}))}))},w=function(e){return function(t){var s="photo"===e?t.target.files[0]:t.target.value;_.set(e,s),a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},e,s)))}};return Object(x.jsx)(v,{title:"Add a new Product",description:"G'day ".concat(r.name,", ready to add a new Product?"),children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-8 offset-md-2",children:[f&&Object(x.jsx)("div",{className:"alert alert-success",children:Object(x.jsx)("h2",{children:"Loading..."})}),Object(x.jsx)("div",{className:"alert alert-info",style:{display:N?"":"none"},children:Object(x.jsxs)("h2",{children:["".concat(N)," is created!"]})}),Object(x.jsx)("div",{className:"alert alert-danger",style:{display:g?"":"none"},children:g}),Object(x.jsxs)("form",{className:"mb-3",onSubmit:y,children:[Object(x.jsx)("h4",{children:"Post Photo"}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("label",{className:"btn btn-secondary",children:Object(x.jsx)("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image/*"})})}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Name"}),Object(x.jsx)("input",{onChange:w("name"),type:"text",className:"form-control",value:o})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Description"}),Object(x.jsx)("textarea",{onChange:w("description"),className:"form-control",value:u})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Price"}),Object(x.jsx)("input",{onChange:w("price"),type:"number",className:"form-control",value:m})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Category"}),Object(x.jsxs)("select",{onChange:w("category"),className:"form-control",children:[Object(x.jsx)("option",{children:"Please select"}),O&&O.map((function(e,t){return Object(x.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(x.jsxs)("select",{onChange:w("shipping"),className:"form-control",children:[Object(x.jsx)("option",{children:"Please select"}),Object(x.jsx)("option",{value:"0",children:"No"}),Object(x.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(x.jsx)("input",{onChange:w("quantity"),type:"number",className:"form-control",value:p})]}),Object(x.jsx)("button",{className:"btn btn-outline-primary",children:"Create Product"})]})]})})})},$=function(e){var t=e.prices,c=e.handleFilters,a=Object(s.useState)(0),n=Object(d.a)(a,2),r=(n[0],n[1]),i=function(e){c(e.target.value),r(e.target.value)};return t.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{onChange:i,value:"".concat(e._id),name:e,type:"radio",className:"mr-2 ml-4"}),Object(x.jsx)("label",{className:"form-check-label",children:e.name})]})}))},X=function(e){e.Categories,e.handleFilters;var t=Object(s.useState)({categories:[],category:"",search:"",results:[],searched:!1}),c=Object(d.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)([]),i=Object(d.a)(r,2),o=(i[0],i[1],a.categories),b=a.category,h=a.search,u=a.results,m=a.searched;Object(s.useEffect)((function(){P().then((function(e){e.error?console.log(e.error):n(Object(j.a)(Object(j.a)({},e),{},{categories:e}))}))}),[]);var O=function(e){e.preventDefault(),h&&T({search:h||void 0,category:b}).then((function(e){e.error?console.log(e.error):n(Object(j.a)(Object(j.a)({},a),{},{results:e,searched:!0}))}))},p=function(e){return function(t){var c;n(Object(j.a)(Object(j.a)({},a),{},(c={},Object(l.a)(c,e,t.target.value),Object(l.a)(c,"searched",!1),c)))}},f=function(e,t){return e&&t.length>0?"Found ".concat(t.length," products"):e&&t.length<1?"No products found":void 0};return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("section",{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12",children:Object(x.jsxs)("div",{className:"hero__search",children:[Object(x.jsx)("div",{className:"hero__search__forms",children:Object(x.jsxs)("form",{onSubmit:O,children:[Object(x.jsxs)("select",{className:"hero__search__categories",onChange:p("category"),children:[Object(x.jsx)("option",{value:"All",children:"All Categories"}),o.map((function(e,t){return Object(x.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(x.jsx)("input",Object(l.a)({type:"search",placeholder:"What do yo u need?",onChange:p("search")},"placeholder","What do yo u need?")),Object(x.jsx)("button",{type:"submit",className:"site-btn",children:"SEARCH"})]})}),Object(x.jsxs)("div",{className:"hero__search__phone",children:[Object(x.jsx)("div",{className:"hero__search__phone__icon",children:Object(x.jsx)("i",{className:"fa fa-phone"})}),Object(x.jsxs)("div",{className:"hero__search__phone__text",children:[Object(x.jsx)("h5",{children:"+92301 7111141"}),Object(x.jsx)("span",{children:"support 24/7 time"})]})]})]})})})})})}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"mt-4 mb-4",children:f(m,e)}),Object(x.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(x.jsx)("div",{className:"col-4 mb-3",children:Object(x.jsx)(D,{product:e},t)})}))})]})}(u)]})},Z=function(){var e=Object(s.useState)({filters:{category:[],price:[]}}),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),r=Object(d.a)(n,2),i=r[0],o=r[1],l=Object(s.useState)(!1),b=Object(d.a)(l,2),h=(b[0],b[1]),u=Object(s.useState)(6),m=Object(d.a)(u,2),O=m[0],p=(m[1],Object(s.useState)(0)),f=Object(d.a)(p,2),g=f[0],N=f[1],_=Object(s.useState)(0),w=Object(d.a)(_,2),S=w[0],T=w[1],I=Object(s.useState)([]),R=Object(d.a)(I,2),B=R[0],U=R[1],z=Object(s.useState)([]),J=Object(d.a)(z,2),G=J[0],F=J[1],L=Object(s.useState)({categories:[],category:"",search:"",results:[],searched:!1}),q=Object(d.a)(L,2),H=q[0],M=(q[1],Object(s.useState)([])),Y=Object(d.a)(M,2),W=Y[0],V=Y[1],Q=(H.Categories,H.category,H.search,H.results,H.searched,function(e){k(g,O,e).then((function(e){e.error?h(e.error):(U(e.data),T(e.size),N(0))}))}),K=function(){var e=g+O;k(e,O,c.filters).then((function(t){t.error?h(t.error):(U([].concat(Object(y.a)(B),Object(y.a)(t.data))),T(t.size),N(e))}))},Z=function(e){return function(){var t=W.indexOf(e),c=Object(y.a)(W);-1===t?c.push(e):c.splice(t,1),V(c),ee(c)}};Object(s.useEffect)((function(){P().then((function(e){e.error?(console.log(e.error),h(e.error)):(console.log(e),o(e))})),Q(g,c.filters),C("createdAt").then((function(e){console.log(e),e.error?h(e.error):F(e)}))}),[]);var ee=function(e,t){console.log("SHOP",e,t);var s=Object(j.a)({},c);if(s.filters[t]=e,"price"===t){var n=te(e);s.filters[t]=n}Q(c.filters),a(s)},te=function(e){var t=A,c=[];for(var s in t)t[s]._id===parseInt(e)&&(c=t[s].array);return c};return Object(x.jsxs)(v,{children:[Object(x.jsx)(X,{Categories:i,handleFilters:function(e){return ee(e,"category")}}),Object(x.jsx)("div",{class:"container",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-3 col-md-5",children:Object(x.jsxs)("div",{class:"sidebar",children:[Object(x.jsxs)("div",{class:"sidebar__item",children:[Object(x.jsx)("h4",{children:"Department"}),Object(x.jsx)("ul",{style:{marginLeft:"50px"},children:i.map((function(e,t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("input",{onChange:Z(e._id),value:W.indexOf(-1===e._id),type:"checkbox",className:"form-check-input"}),Object(x.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))})]}),Object(x.jsxs)("div",{class:"sidebar__item",children:[Object(x.jsx)("h4",{children:"Select Price Range"}),Object(x.jsx)($,{prices:A,handleFilters:function(e){return ee(e,"price")}})]}),Object(x.jsx)("div",{class:"sidebar__item",children:Object(x.jsxs)("div",{class:"latest-product__text",children:[Object(x.jsx)("h4",{children:"Latest Products"}),Object(x.jsx)("div",{class:"latest-product__slider owl-carousel",children:Object(x.jsx)("div",{class:"latest-prdouct__slider__item",children:G.map((function(e,t){return Object(x.jsxs)("a",{href:"#",className:"latest-product__item",children:[Object(x.jsx)("div",{className:"latest-product__item__pic",children:Object(x.jsx)(E,{item:e,url:"product"})}),Object(x.jsxs)("div",{className:"latest-product__item__text",children:[Object(x.jsx)("h6",{children:e.name}),Object(x.jsxs)("span",{children:["Rs ",e.price]})]})]})}))})})]})})]})}),Object(x.jsxs)("div",{class:"col-lg-9 col-md-7",children:[Object(x.jsx)("div",{class:"row",children:B.map((function(e,t){return Object(x.jsx)("div",{className:"col-4 mb-3",children:Object(x.jsx)(D,{product:e})},t)}))}),Object(x.jsx)("hr",{}),S>0&&S>=O&&Object(x.jsx)("button",{onClick:K,className:"btn btn-warning mb-5",children:"Load more"})]})]})})]})},ee=function(e){var t=Object(s.useState)({}),c=Object(d.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)([]),i=Object(d.a)(r,2),o=i[0],l=i[1],j=Object(s.useState)(!1),h=Object(d.a)(j,2),u=(h[0],h[1]),m=function(e){(function(e){return fetch("".concat(b,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?u(e.error):(n(e),function(e){return fetch("".concat(b,"/products/related/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e._id).then((function(e){e.error?u(e.error):l(e)})))}))};return Object(s.useEffect)((function(){var t=e.match.params.productId;m(t)}),[e]),Object(x.jsx)(v,{title:a&&a.name,description:a&&a.description&&a.description.substring(0,100),className:"container-fluid",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-8",children:a&&a.description&&Object(x.jsx)(D,{product:a,showViewProductButton:!1})}),Object(x.jsxs)("div",{className:"col-4",children:[Object(x.jsx)("h4",{children:"Related products"}),o.map((function(e,t){return Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)(D,{product:e})},t)}))]})]})})},te=function(){return Object(x.jsxs)(v,{children:[Object(x.jsxs)("section",{className:"","data-setbg":"",children:[Object(x.jsx)("img",{className:"breadcrumb-section set-bg imag",src:"/img/breadcrumb.jpg",alt:""}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12 text-center text-dark",children:Object(x.jsxs)("div",{className:"breadcrumb__text",children:[Object(x.jsx)("h2",{className:"text-dark",children:"Contact Us"}),Object(x.jsxs)("div",{className:"breadcrumb__option",children:[Object(x.jsx)(n.b,{to:"/",className:"text-dark",children:"Home"}),Object(x.jsx)("span",{className:"text-dark",children:"Contact Us"})]})]})})})})]}),Object(x.jsx)("section",{className:"contact spad",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 text-center",children:Object(x.jsxs)("div",{className:"contact__widget",children:[Object(x.jsx)("span",{className:"icon_phone"}),Object(x.jsx)("h4",{children:"Phone"}),Object(x.jsx)("p",{children:"+92301 7111141"})]})}),Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 text-center",children:Object(x.jsxs)("div",{className:"contact__widget",children:[Object(x.jsx)("span",{className:"icon_pin_alt"}),Object(x.jsx)("h4",{children:"Address"}),Object(x.jsx)("p",{children:"81, Commercial Umar Block, Sector B, Bahria Town Lahore."})]})}),Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 text-center",children:Object(x.jsxs)("div",{className:"contact__widget",children:[Object(x.jsx)("span",{className:"icon_clock_alt"}),Object(x.jsx)("h4",{children:"Open time"}),Object(x.jsx)("p",{children:"10:00 am to 23:00 pm"})]})}),Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 text-center",children:Object(x.jsxs)("div",{className:"contact__widget",children:[Object(x.jsx)("span",{className:"icon_mail_alt"}),Object(x.jsx)("h4",{children:"Email"}),Object(x.jsx)("p",{children:Object(x.jsx)("a",{href:"https://mail.google.com/mail/u/0/#inbox",class:"__cf_email__","data-cfemail":"dbb3beb7b7b49bb8b4b7b4a9b7b2b9f5b8b4b6",children:"salmanlobby3@gmail.com "})})]})})]})})}),Object(x.jsxs)("div",{className:"map",children:[Object(x.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3406.0785095739775!2d74.19396091514733!3d31.384398681414762!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzHCsDIzJzAzLjgiTiA3NMKwMTEnNDYuMSJF!5e0!3m2!1sen!2s!4v1615899047207!5m2!1sen!2s",width:"600",height:"450",style:{border:"0"},allowfullscreen:"",loading:"lazy"}),Object(x.jsxs)("div",{className:"map-inside",children:[Object(x.jsx)("i",{className:"icon_pin"}),Object(x.jsxs)("div",{className:"inside-widget",children:[Object(x.jsx)("h4",{children:"Behria Town"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Phone: +92301 7111141"}),Object(x.jsx)("li",{children:"Add: Behria Town, Lahore, Pk"})]})]})]})]}),Object(x.jsx)("div",{className:"contact-form spad",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12",children:Object(x.jsx)("div",{className:"contact__form__title",children:Object(x.jsx)("h2",{children:"Leave Message"})})})}),Object(x.jsx)("form",{action:"#",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(x.jsx)("input",{type:"text",placeholder:"Your name"})}),Object(x.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(x.jsx)("input",{type:"text",placeholder:"Your Email"})}),Object(x.jsxs)("div",{className:"col-lg-12 text-center",children:[Object(x.jsx)("textarea",{placeholder:"Your message"}),Object(x.jsx)("button",{type:"submit",className:"site-btn",children:"SEND MESSAGE"})]})]})})]})})]})},ce=function(e){var t=e.product,c=(e.showViewProductButton,e.showAddToCartButton,e.cartUpdate),a=void 0!==c&&c,n=e.showRemoveProductButton,r=void 0!==n&&n,i=e.setRun,l=void 0===i?function(e){return e}:i,j=e.run,b=void 0===j?void 0:j,h=Object(s.useState)(!1),u=Object(d.a)(h,2),p=u[0],f=(u[1],Object(s.useState)(t.count)),g=Object(d.a)(f,2),v=g[0],N=g[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"shoping__product",children:"Products"}),Object(x.jsx)("th",{children:"Price"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Remove"}),Object(x.jsx)("th",{})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{className:"shoping__cart__item",children:[function(e){if(e)return Object(x.jsx)(o.a,{to:"/cart"})}(p),Object(x.jsx)(E,{item:t,url:"product",style:{width:"101px",height:"100px"}}),Object(x.jsx)("h5",{className:"pt-1",children:t.name})]}),Object(x.jsxs)("td",{className:"shoping__cart__price",children:["Rs ",t.price]}),Object(x.jsx)("td",{className:"shoping__cart__quantity",children:Object(x.jsx)("div",{className:"quantity",children:function(e){return e&&Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("span",{className:"input-group-text",children:"Adjust Quantity"})}),Object(x.jsx)("input",{type:"number",className:"form-control",value:v,onChange:(c=t._id,function(e){l(!b),N(e.target.value<1?1:e.target.value),e.target.value>=1&&m(c,e.target.value)})})]})});var c}(a)})}),Object(x.jsx)("td",{className:"shoping__cart__item__close",children:Object(x.jsx)("span",{children:function(e){return e&&Object(x.jsx)("a",{className:"icon_close",onClick:function(){O(t._id),l(!b)}})}(r)})})]})})]})},se=c(30),ae=c.n(se),ne=function(e){var t=e.products,c=e.setRun,a=void 0===c?function(e){return e}:c,r=e.run,i=void 0===r?void 0:r,o=Object(s.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{},address:""}),l=Object(d.a)(o,2),u=l[0],m=l[1],O=h()&&h().user._id,p=h()&&h().token,f=function(e,t){(function(e,t){return fetch("".concat(b,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){e.error?(console.log(e.error),m(Object(j.a)(Object(j.a)({},e),{},{error:e.error}))):(console.log(e),m({clientToken:e.clientToken}))}))};Object(s.useEffect)((function(){f(O,p)}),[]);var g,v,N,_=function(e){m(Object(j.a)(Object(j.a)({},u),{},{address:e.target.value}))},y=function(){return t.reduce((function(e,t){return e+t.count*t.price}),0)},w=u.address,S=function(){var e;m({loading:!0});u.instance.requestPaymentMethod().then((function(c){e=c.nonce,console.log("send nonce and total to process: ",e,y());var s={paymentMethodNonce:e,amount:y()};(function(e,t,c){return fetch("".concat(b,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(O,p,s).then((function(e){console.log(e);var c={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount,address:w};(function(e,t,c){return fetch("".concat(b,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(O,p,c).then((function(e){var t;t=function(){a(!i),console.log("payment success and empty cart"),m({loading:!1,success:!0})},"undefined"!==typeof window&&(localStorage.removeItem("cart"),t())})).catch((function(e){console.log(e),m({loading:!1})}))})).catch((function(e){console.log(e),m({loading:!1})}))})).catch((function(e){m(Object(j.a)(Object(j.a)({},u),{},{error:e.message}))}))},C=function(){return Object(x.jsx)("div",{onBlur:function(){return m(Object(j.a)(Object(j.a)({},u),{},{error:""}))},children:null!==u.clientToken&&t.length>0?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"gorm-group mb-3",children:[Object(x.jsx)("label",{className:"text-muted",children:"Delivery address:"}),Object(x.jsx)("textarea",{onChange:_,className:"form-control",value:u.address,placeholder:"Type your delivery address here..."})]}),Object(x.jsx)(ae.a,{options:{authorization:u.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return u.instance=e}}),Object(x.jsx)("button",{onClick:S,className:"btn btn-success btn-block",children:"Pay"})]}):null})};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Total: Rs ",y()," "]}),(N=u.loading,N&&Object(x.jsx)("h2",{className:"text-danger",children:"Loading..."})),(v=u.success,Object(x.jsx)("div",{className:"alert alert-info",style:{display:v?"":"none"},children:"Thanks! Your payment was successful!"})),(g=u.error,Object(x.jsx)("div",{className:"alert alert-danger",style:{display:g?"":"none"},children:g})),h()?Object(x.jsx)("div",{children:C()}):Object(x.jsx)(n.b,{to:"/signin",children:Object(x.jsx)("button",{className:"btn btn-primary",children:"Sign in to checkout"})})]})},re=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(!1),i=Object(d.a)(r,2),o=i[0],l=i[1];Object(s.useEffect)((function(){a("undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])}),[o]);return Object(x.jsxs)(v,{children:[Object(x.jsxs)("section",{children:[Object(x.jsx)("img",{className:"breadcrumb-section set-bg imag",src:"/img/breadcrumb.jpg",alt:""}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12 text-center",children:Object(x.jsxs)("div",{className:"breadcrumb__text",children:[Object(x.jsx)("h2",{className:"text-dark",children:"Shopping Cart"}),Object(x.jsxs)("div",{className:"breadcrumb__option",children:[Object(x.jsx)(n.b,{to:"/",className:"text-dark",children:"Home"}),Object(x.jsx)("span",{className:"text-dark",children:"Shopping Cart"})]})]})})})})]}),Object(x.jsx)("section",{className:"shoping-cart spad",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12",children:Object(x.jsx)("div",{className:"shoping__cart__table",children:Object(x.jsx)("table",{children:c.length>0?function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Your cart has ","".concat(e.length)," items"]}),Object(x.jsx)("hr",{}),e.map((function(e,t){return Object(x.jsx)(ce,{product:e,showAddToCartButton:!1,cartUpdate:!0,showRemoveProductButton:!0,setRun:l,run:o},t)}))]})}(c):Object(x.jsxs)("h2",{children:["Your cart is empty. ",Object(x.jsx)("br",{})]})})})})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-12",children:Object(x.jsx)("div",{className:"shoping__cart__btns",children:Object(x.jsx)(n.b,{to:"/shop",className:"primary-btn cart-btn CS",children:"CONTINUE SHOPPING"})})}),Object(x.jsx)("div",{className:"col-lg-6",children:Object(x.jsx)("div",{className:"shoping__continue",children:Object(x.jsxs)("div",{className:"shoping__discount",children:[Object(x.jsx)("h5",{children:"Discount Codes"}),Object(x.jsxs)("form",{action:"#",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter your coupon code"}),Object(x.jsx)("button",{type:"submit",className:"site-btn",children:"APPLY COUPON"})]})]})})}),Object(x.jsx)("div",{className:"col-lg-6",children:Object(x.jsxs)("div",{className:"shoping__checkout",children:[Object(x.jsx)("h5",{children:"Cart Total"}),Object(x.jsx)(ne,{products:c,setRun:l,run:o})]})})]})]})}),Object(x.jsx)("div",{className:"row"})]})},ie=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),r=Object(d.a)(n,2),i=r[0],o=r[1],l=h(),j=l.user,u=l.token,m=function(){(function(e,t){return fetch("".concat(b,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(j._id,u).then((function(e){e.error?console.log(e.error):a(e)}))},O=function(){(function(e,t){return fetch("".concat(b,"/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(j._id,u).then((function(e){e.error?console.log(e.error):o(e)}))};Object(s.useEffect)((function(){m(),O()}),[]);var p=function(e,t){return Object(x.jsxs)("div",{className:"input-group mb-2 mr-sm-2",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("div",{className:"input-group-text",children:e})}),Object(x.jsx)("input",{type:"text",value:t,className:"form-control",readOnly:!0})]})},f=function(e,t){(function(e,t,c,s){return fetch("".concat(b,"/order/").concat(c,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:s,orderId:c})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(j._id,u,t,e.target.value).then((function(e){e.error?console.log("Status update failed"):m()}))},g=function(e){return Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsxs)("h3",{className:"mark mb-4",children:["Status: ",e.status]}),Object(x.jsxs)("select",{className:"form-control",onChange:function(t){return f(t,e._id)},children:[Object(x.jsx)("option",{children:"Update Status"}),i.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})};return Object(x.jsx)(v,{title:"Orders",description:"G'day ".concat(j.name,", you can manage all the orders here"),className:"container-fluid",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-8 offset-md-2",children:[c.length>0?Object(x.jsxs)("h1",{className:"text-danger display-2",children:["Total orders: ",c.length]}):Object(x.jsx)("h1",{className:"text-danger",children:"No orders"}),c.map((function(e,t){return Object(x.jsxs)("div",{className:"mt-5",style:{borderBottom:"5px solid indigo"},children:[Object(x.jsx)("h2",{className:"mb-5",children:Object(x.jsxs)("span",{className:"bg-primary",children:["Order ID: ",e._id]})}),Object(x.jsxs)("ul",{className:"list-group mb-2",children:[Object(x.jsx)("li",{className:"list-group-item",children:g(e)}),Object(x.jsxs)("li",{className:"list-group-item",children:["Transaction ID: ",e.transaction_id]}),Object(x.jsxs)("li",{className:"list-group-item",children:["Amount: $",e.amount]}),Object(x.jsxs)("li",{className:"list-group-item",children:["Ordered by: ",e.user.name]}),Object(x.jsxs)("li",{className:"list-group-item",children:["Ordered on:"," ",R()(e.createdAt).fromNow()]}),Object(x.jsxs)("li",{className:"list-group-item",children:["Delivery address: ",e.address]})]}),Object(x.jsxs)("h3",{className:"mt-4 mb-4 font-italic",children:["Total products in the order:"," ",e.products.length]}),e.products.map((function(e,t){return Object(x.jsxs)("div",{className:"mb-4",style:{padding:"20px",border:"1px solid indigo"},children:[p("Product name",e.name),p("Product price",e.price),p("Product total",e.count),p("Product Id",e._id)]},t)}))]},t)}))]})})})},oe=function(e){var t=e.match,c=Object(s.useState)({name:"",email:"",password:"",error:!1,success:!1}),a=Object(d.a)(c,2),n=a[0],r=a[1],i=h().token,u=n.name,m=n.email,O=n.password,p=(n.error,n.success),f=function(e){(function(e,t){return fetch("".concat(b,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,i).then((function(e){e.error?r(Object(j.a)(Object(j.a)({},n),{},{error:!0})):r(Object(j.a)(Object(j.a)({},n),{},{name:e.name,email:e.email}))}))};Object(s.useEffect)((function(){f(t.params.userId)}),[]);var g=function(e){return function(t){r(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({error:!1},e,t.target.value)))}},N=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(b,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.userId,i,{name:u,email:m,password:O}).then((function(e){e.error?alert(e.error):function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var c=JSON.parse(localStorage.getItem("jwt"));c.user=e,localStorage.setItem("jwt",JSON.stringify(c)),t()}}(e,(function(){r(Object(j.a)(Object(j.a)({},n),{},{name:e.name,email:e.email,success:!0}))}))}))};return Object(x.jsxs)(v,{title:"Profile",description:"Update your profile",className:"container-fluid",children:[Object(x.jsx)("h2",{className:"mb-4",children:"Profile update"}),function(e,t,c){return Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Name"}),Object(x.jsx)("input",{type:"text",onChange:g("name"),className:"form-control",value:e})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Email"}),Object(x.jsx)("input",{type:"email",onChange:g("email"),className:"form-control",value:t})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Password"}),Object(x.jsx)("input",{type:"password",onChange:g("password"),className:"form-control",value:c})]}),Object(x.jsx)("button",{onClick:N,className:"btn btn-primary",children:"Submit"})]})}(u,m,O),function(e){if(e)return Object(x.jsx)(o.a,{to:"/cart"})}(p)]})},le=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=h(),i=r.user,o=r.token,l=function(){fetch("".concat(b,"/products?limit=undefined"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?console.log(e.error):a(e)}))},j=function(e){(function(e,t,c){return fetch("".concat(b,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,i._id,o).then((function(e){e.error?console.log(e.error):l()}))};return Object(s.useEffect)((function(){l()}),[]),Object(x.jsx)(v,{title:"Manage Products",description:"Perform CRUD on products",className:"container-fluid",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12",children:[Object(x.jsxs)("h2",{className:"text-center",children:["Total ",c.length," products"]}),Object(x.jsx)("hr",{}),Object(x.jsx)("ul",{className:"list-group",children:c.map((function(e,t){return Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(x.jsx)("strong",{children:e.name}),Object(x.jsx)(n.b,{to:"/admin/product/update/".concat(e._id),children:Object(x.jsx)("span",{className:"badge badge-warning badge-pill",style:{backgroundColor:"yellow",color:"blue"},children:"Update"})}),Object(x.jsx)("span",{onClick:function(){return j(e._id)},className:"badge badge-danger badge-pill",style:{backgroundColor:"yellow",color:"black"},children:"Delete"})]},t)}))}),Object(x.jsx)("br",{})]})})})},je=function(e){var t=e.match,c=Object(s.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:!1,createdProduct:"",redirectToProfile:!1,formData:""}),a=Object(d.a)(c,2),n=a[0],r=a[1],i=Object(s.useState)([]),u=Object(d.a)(i,2),m=u[0],O=u[1],p=h(),f=p.user,g=p.token,N=n.name,_=n.description,y=n.price,w=(n.category,n.shipping,n.quantity),S=n.loading,C=n.error,P=n.createdProduct,k=n.redirectToProfile,T=n.formData,A=function(e){(function(e){return fetch("".concat(b,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?r(Object(j.a)(Object(j.a)({},n),{},{error:e.error})):(r(Object(j.a)(Object(j.a)({},n),{},{name:e.name,description:e.description,price:e.price,category:e.category._id,shipping:e.shipping,quantity:e.quantity,formData:new FormData})),E())}))},E=function(){V().then((function(e){e.error?r(Object(j.a)(Object(j.a)({},n),{},{error:e.error})):O(e)}))};Object(s.useEffect)((function(){A(t.params.productId)}),[]);var I=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;T.set(e,c),r(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},e,c)))}},R=function(e){e.preventDefault(),r(Object(j.a)(Object(j.a)({},n),{},{error:"",loading:!0})),function(e,t,c,s){return fetch("".concat(b,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:s}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,f._id,g,T).then((function(e){e.error?r(Object(j.a)(Object(j.a)({},n),{},{error:e.error})):r(Object(j.a)(Object(j.a)({},n),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,error:!1,redirectToProfile:!0,createdProduct:e.name}))}))};return Object(x.jsx)(v,{title:"Add a new product",description:"G'day ".concat(f.name,", ready to add a new product?"),children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-8 offset-md-2",children:[S&&Object(x.jsx)("div",{className:"alert alert-success",children:Object(x.jsx)("h2",{children:"Loading..."})}),Object(x.jsx)("div",{className:"alert alert-info",style:{display:P?"":"none"},children:Object(x.jsxs)("h2",{children:["".concat(P)," is updated!"]})}),Object(x.jsx)("div",{className:"alert alert-danger",style:{display:C?"":"none"},children:C}),Object(x.jsxs)("form",{className:"mb-3",onSubmit:R,children:[Object(x.jsx)("h4",{children:"Post Photo"}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("label",{className:"btn btn-secondary",children:Object(x.jsx)("input",{onChange:I("photo"),type:"file",name:"photo",accept:"image/*"})})}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Name"}),Object(x.jsx)("input",{onChange:I("name"),type:"text",className:"form-control",value:N})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Description"}),Object(x.jsx)("textarea",{onChange:I("description"),className:"form-control",value:_})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Price"}),Object(x.jsx)("input",{onChange:I("price"),type:"number",className:"form-control",value:y})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Category"}),Object(x.jsxs)("select",{onChange:I("category"),className:"form-control",children:[Object(x.jsx)("option",{children:"Please select"}),m&&m.map((function(e,t){return Object(x.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(x.jsxs)("select",{onChange:I("shipping"),className:"form-control",children:[Object(x.jsx)("option",{children:"Please select"}),Object(x.jsx)("option",{value:"0",children:"No"}),Object(x.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(x.jsx)("input",{onChange:I("quantity"),type:"number",className:"form-control",value:w})]}),Object(x.jsx)("button",{className:"btn btn-outline-primary",children:"Update Product"})]}),function(){if(k&&!C)return Object(x.jsx)(o.a,{to:"/"})}()]})})})},de=function(e){var t=e.match,c=Object(s.useState)({name:"",error:"",redirectToProfile:!1,formData:""}),a=Object(d.a)(c,2),r=a[0],i=a[1],u=h(),m=u.user,O=u.token,p=r.name,f=r.error,g=r.redirectToProfile,N=function(e){(function(e){return fetch("".concat(b,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?i(Object(j.a)(Object(j.a)({},r),{},{error:e.error})):i(Object(j.a)(Object(j.a)({},r),{},{name:e.name}))}))};Object(s.useEffect)((function(){N(t.params.categoryId)}),[]);var _=function(e){return function(t){i(Object(j.a)(Object(j.a)({},r),{},Object(l.a)({error:!1},e,t.target.value)))}},y=function(e){e.preventDefault();var c={name:p};(function(e,t,c,s){return fetch("".concat(b,"/category/").concat(e,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t.params.categoryId,m._id,O,c).then((function(e){e.error?i(Object(j.a)(Object(j.a)({},r),{},{error:e.error})):i(Object(j.a)(Object(j.a)({},r),{},{name:e.name,error:!1,redirectToProfile:!0}))}))};return Object(x.jsx)(v,{title:"Hi ".concat(m.name),description:"This is Update Product Action Page",className:"container-fluid",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-8 offset-md-2 m-b-250 mb-5",children:[Object(x.jsxs)("div",{className:"alert alert-danger",role:"alert",style:{display:f?"":"none"},children:[Object(x.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),f]}),Object(x.jsx)("div",{className:"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55",children:Object(x.jsxs)("form",{className:"mb-5",onSubmit:y,children:[Object(x.jsx)("span",{className:"login100-form-title p-b-32 m-b-7",children:"Update Category Form"}),Object(x.jsx)("span",{className:"txt1 p-b-11",children:"Category Name"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"wrap-input100 validate-input m-b-36",children:Object(x.jsx)("input",{onChange:_("name"),value:p,className:"input100",type:"text",required:!0,name:"name"})}),Object(x.jsx)("div",{className:"w-size25",children:Object(x.jsx)("button",{type:"submit",className:"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4",children:"Save Changes"})})]})}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(n.b,{to:"/admin/categories",className:"text-info",children:"Back To Admin Home"})}),function(){if(g&&!f)return Object(x.jsx)(o.a,{to:"/admin/categories"})}()]})})})};var be=function(){return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/",exact:!0,component:L}),Object(x.jsx)(o.b,{path:"/signup",exact:!0,component:N}),Object(x.jsx)(o.b,{path:"/signin",exact:!0,component:_}),Object(x.jsx)(o.b,{path:"/shop",exact:!0,component:Z}),Object(x.jsx)(o.b,{path:"/contact",exact:!0,component:te}),Object(x.jsx)(o.b,{path:"/product/:productId",exact:!0,component:ee}),Object(x.jsx)(o.b,{path:"/cart",exact:!0,component:re}),Object(x.jsx)(H,{path:"/user/dashboard",exact:!0,component:M}),Object(x.jsx)(H,{path:"/profile/:userId",exact:!0,component:oe}),Object(x.jsx)(Y,{path:"/admin/dashboard",exact:!0,component:W}),Object(x.jsx)(Y,{path:"/create/category",exact:!0,component:Q}),Object(x.jsx)(Y,{path:"/create/product",exact:!0,component:K}),Object(x.jsx)(Y,{path:"/admin/orders",exact:!0,component:ie}),Object(x.jsx)(Y,{path:"/admin/products",exact:!0,component:le}),Object(x.jsx)(Y,{path:"/admin/product/update/:productId",exact:!0,component:je}),Object(x.jsx)(Y,{path:"/admin/category/update/:categoryId",exact:!0,component:de})]})})};i.a.render(Object(x.jsx)(n.a,{children:Object(x.jsx)(be,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.6a02a94e.chunk.js.map